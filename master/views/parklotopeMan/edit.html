<div class="row" block-ui="main" id="parklotAdd">
    <div class="col-md-12">
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li ng-if="titles.firstTitle"><i class="fa fa-home"></i><a href="javascript:;">{{titles.firstTitle}}</a><i class="fa fa-angle-right"></i></li>
                <li ng-if="titles.secTitle"><a href="javascript:;"  ui-sref="{{stateGoIndex}}">{{titles.secTitle}}</a></li>
            </ul>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">停车场详情</div>
            <div class="panel-body form">
                <form name="addForm" ng-submit="submitForm(addForm.$valid)" class="form-horizontal" novalidate>
                    <div class="format-height"></div>
                    <div class="form-body">
                        <div class="form-group">
                            <label class="control-label col-md-2">停车场名称<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.name.$invalid && addForm.name.$dirty ? 'has-error':''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.name.$invalid && addForm.name.$dirty ? 'fa-exclamation':''"></i>
                                    <input type="text" class="form-control" name="name" ng-model="formData.name" required>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-if="(addForm.name.$invalid && addForm.name.$dirty) || submited">
                                <span ng-if="addForm.name.$error.required">请输入停车场名称</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">停车场属性<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.attr.$dirty ? (addForm.attr.$valid ? 'has-success': 'has-error') :''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.attr.$dirty ? (addForm.attr.$valid ? 'fa-check': 'fa-exclamation') :''"></i>
                                    <select name="attr" class="form-control" ng-model="formData.attr" required>
                                        <option value="">请选择</option>
                                        <option ng-repeat="option in attrOptions" value="{{option.lookupKey}}">
                                            {{option.lookupValue}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-show="(addForm.attr.$invalid && addForm.attr.$dirty) || submited">
                                <span ng-show="addForm.attr.$error.required">请选择停车场属性</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">停车场类别<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.type.$dirty ? (addForm.type.$valid ? 'has-success': 'has-error') :''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.type.$dirty ? (addForm.type.$valid ? 'fa-check': 'fa-exclamation') :''"></i>
                                    <select name="type" class="form-control" ng-model="formData.type" required>
                                        <option value="">请选择</option>
                                        <option ng-repeat="option in typeOptions" value="{{option.lookupKey}}">
                                            {{option.lookupValue}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-show="(addForm.type.$invalid && addForm.type.$dirty) || submited">
                                <span ng-show="addForm.type.$error.required">请选择停车场类别</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">停车场类型<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.style.$dirty ? (addForm.style.$valid ? 'has-success': 'has-error') :''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.style.$dirty ? (addForm.style.$valid ? 'fa-check': 'fa-exclamation') :''"></i>
                                    <select name="style" class="form-control" ng-model="formData.style" required>
                                        <option value="">请选择</option>
                                        <option ng-repeat="option in styleOptions" value="{{option.lookupKey}}">
                                            {{option.lookupValue}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-show="(addForm.style.$invalid && addForm.style.$dirty) || submited">
                                <span ng-show="addForm.style.$error.required">请选择停车场类型</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">总泊位<span class="required">*</span></label>
                            <div class="col-md-6">
                                <div class="input-icon right">
                                    <input type="text" class="form-control" name="berthNum" ng-maxlength="5" placeholder="请输入总泊位数" ng-model="formData.berthNum" required>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-if="addForm.berthNum.$invalid && (addForm.berthNum.$dirty || submited)">
                                <span ng-show="addForm.berthNum.$error.required">请输入总泊位数</span>
                                <span ng-show="addForm.berthNum.$error.maxlength">最多五位数</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">详细地址<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.address.$invalid && addForm.address.$dirty ? 'has-error':''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.address.$invalid && addForm.address.$dirty ? 'fa-exclamation':''"></i>
                                    <input type="text" class="form-control" name="address" ng-model="formData.address" required placeholder="请输入详细地址">
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-if="addForm.address.$invalid && (addForm.address.$dirty || submited)">
                                <span ng-if="addForm.address.$error.required">请输入详细地址</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">纬度<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.lat.$dirty ? (addForm.lat.$valid ? 'has-success': 'has-error') :''">
                                <div class="input-group">
                                    <input type="text" ng-model="formData.lat"
                                           id="lat" class="form-control" name="lat" ng-maxlength="20" ng-pattern="/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/"
                                           placeholder="30.000000" required>
                                    <span class="input-group-btn" id="mapBtnSpan" ng-click="openMap($event)">
												              <button id="mapOpenBtn" class="uc-position-map-btn" type="button"><span></span>地图</button>
                                     </span>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-show="addForm.lat.$invalid && (addForm.lat.$dirty || submited)">
                                <span ng-show="addForm.lat.$error.required">请输入纬度</span>
                                <span ng-show="addForm.lat.$error.pattern">格式错误，仅支持数字(可以有小数)</span>
                                <span ng-show="addForm.lat.$error.maxlength">纬度不能超过20个字符</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">经度<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.lng.$dirty ? (addForm.lng.$valid ? 'has-success': 'has-error') :''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.lng.$dirty ? (addForm.lng.$valid ? 'fa-check': 'fa-exclamation') :''"></i>
                                    <input type="text" class="form-control" placeholder="120.000000" ng-maxlength="20" name="lng"
                                           ng-pattern="/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/" ng-model="formData.lng" required>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-show="addForm.lng.$invalid && (addForm.lng.$dirty || submited)">
                                <span ng-show="addForm.lng.$error.required">请输入经度</span>
                                <span ng-show="addForm.lng.$error.pattern">格式错误，仅支持数字(可以有小数)</span>
                                <span ng-show="addForm.lng.$error.maxlength">经度不能超过20个字符</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">联系人<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.contacts.$invalid && addForm.contacts.$dirty ? 'has-error':''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.contacts.$invalid && addForm.berthNum.$dirty ? 'fa-exclamation':''"></i>
                                    <input type="text" class="form-control" name="contacts" ng-model="formData.contacts" required>
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-if="addForm.contacts.$invalid && (addForm.contacts.$dirty || submited)">
                                <span ng-if="addForm.contacts.$error.required">请输入联系人</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">联系电话<span class="required">*</span></label>
                            <div class="col-md-6" ng-class="addForm.contactNumber.$invalid && (addForm.contactNumber.$dirty || submited) ? 'has-error':''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.contactNumber.$invalid && (addForm.contactNumber.$dirty || submited) ? 'fa-exclamation':''"></i>
                                    <input type="text" class="form-control" name="contactNumber" ng-model="formData.contactNumber" placeholder="请输入联系电话（必填项）" required ng-maxlength="11" ng-pattern="/^0?1[3|4|5|7|8][0-9]\d{8}$/">
                                </div>
                            </div>
                            <div class="col-md-3 error" ng-if="addForm.contactNumber.$invalid && (addForm.contactNumber.$dirty || submited)">
                                <span ng-if="addForm.contactNumber.$error.required">请输入联系电话</span>
                                <span ng-show="addForm.contactNumber.$error.maxlength">联系电话不能超过11位</span>
                                <span ng-show="addForm.contactNumber.$error.pattern">联系电话格式错误</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">邮箱</label>
                            <div class="col-md-6">
                                <div class="input-icon right">
                                    <input type="text" class="form-control" name="email" ng-model="formData.email" placeholder="请输入邮箱">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                        	<label class="control-label col-md-2">
                        		图片
                        	</label>
                          <div class="col-md-3">
                              <div style="width: 176px;height: 186px;border: dotted 1px;margin-bottom: 10px;vertical-align: middle;">
                                <a href="javascript:void(0);"  class="thumbnail" >
                                  <img ngf-src="formData.picUrl1 || formData.default" style="width: 171px;max-height: 180px;">
                                </a>
                              </div>
                              <button  type="file"  ngf-select="uploadFiles($file, $invalidFiles,1)" accept="image/jpg,image/jpeg,image/png" ngf-max-height="10000" ngf-max-size="10MB">选择图片</button>
                              <button ng-if="formData.pic1" type="button" ng-click="delPic(1)">删除图片</button>
                          </div>
                          <div class="col-md-3">
                              <div style="width: 176px;height: 186px;border: dotted 1px;margin-bottom: 10px;vertical-align: middle;">
                                <a href="javascript:void(0);"  class="thumbnail" >
                                  <img ngf-src="formData.picUrl2 || formData.default" style="width: 171px;max-height: 180px;">
                                </a>
                              </div>
                              <div class="caption">
                                <button  type="file"  ngf-select="uploadFiles($file, $invalidFiles,2)" accept="image/jpg,image/jpeg,image/png" ngf-max-height="10000" ngf-max-size="10MB">选择图片</button>
                                <button ng-if="formData.pic2"  type="button" ng-click="delPic(2)">删除图片</button>
                              </div>
                          </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">描述</label>
                            <div class="col-md-6" ng-class="addForm.description.$dirty ? (addForm.description.$valid ? 'has-success': 'has-error') :''">
                                <div class="input-icon right">
                                    <i class="fa tooltips" ng-class="addForm.description.$dirty ? (addForm.description.$valid ? 'fa-check': 'fa-exclamation') :''"></i>
                                    <textarea class="form-control" name="description" ng-model="formData.description" cols="50" rows="5" ng-maxlength="200" ></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <div class="col-md-offset-8 col-md-4">
                            <button type="submit" class="btn btn-info">提交</button>
                            <button type="button" class="btn default" ui-sref="{{stateGoIndex}}">取消</button>
                        </div>
                    </div>
                </form>
                <div id="mapWrapper" ng-show="mapShow" ng-style="{'top': mapContainerStyle.top, 'left': mapContainerStyle.left}">
                    <div class="mapClose" ng-click="mapClose()"></div>
                    <div id="mapContainer" ng-style="{'width': mapContainerStyle.width, 'height': mapContainerStyle.height}">
                        <div id="tip">
                            <input type="text" id="keyword" name="keyword" value="请输入关键字：(选定后搜索)" onfocus='this.value=""'/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>