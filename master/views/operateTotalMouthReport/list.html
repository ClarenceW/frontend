<div id="totalMouthreport-index" block-ui="main">
    <!-- BEGIN PAGE HEADER-->
     <div class="page-bar">
        <ul class="page-breadcrumb">
            <li ng-if="titles.firstTitle"><i class="fa fa-home"></i><a href="javascript:;">{{titles.firstTitle}}</a></li>
            <li ng-if="titles.secTitle"><i class="fa fa-angle-right"></i><a href="javascript:;">{{titles.secTitle}}</a></li>
            <li ng-if="titles.thirdTitle"><i class="fa fa-angle-right"></i><a href="javascript:;">{{titles.thirdTitle}}</a></li>
        </ul>
    </div>
    <!-- END PAGE HEADER-->
    <div class="row">
        <div class="col-md-12">
            <div class="selectbox">
                <ul class="option">
                    <div class="form-inline" id="queryForm">
                        <div class="form-group form-group-sm">
                            <div class="input-group">
                                <label class="control-label">选择日期：</label>
                                    <input type="text" class="form-control" onchange="" ng-model="formData.startTime" onclick="WdatePicker({maxDate:'%y-%M-%d',dateFmt:'yyyy-MM'})" id="searchTm2"/>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" onclick="WdatePicker({el:'searchTm2',dateFmt:'yyyy-MM',maxDate:'%y-%M-%d'})"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">停车场：</label>
                            <div class="multiLot" style="width: 179px;padding: 0;height:34px;display:inline-block;">
                              <select name="parklotCodes" class="form-control selectpicker" ng-model="formData.parklotCodes" multiple data-live-search="true" title="请选择停车场">
                                <option ng-repeat="option in parklotCodeOptions" value="{{option.code}}">
                                    {{option.name}}
                                </option>
                              </select>
                            </div>
                        </div>
                        <div class="btn-group">
                            <button class="btn blue-madison search" ng-click="toSearch()">搜 索</button>
                        </div>
                        <div class="btn-group">
                            <button class="btn search" ng-click="toReset()">重 置</button>
                        </div>
                    </div>
                </ul>
                <div id="ucSelectBoxWrapper" style="padding: 0px;"></div>
            </div>
            <div class="buttonbox">
                <button class="btn btn-sm btn-default" ng-click="downloadExcel();">
                    <span class="fa fa-file-excel-o font-blue-linewell"></span> 导出
                </button>
            </div>
            <table class="table table-bordered table-hover" style="white-space: nowrap" id="totalMouthreport-table">
              <thead style="background: #b6b7d0;color: #fff;">
                <tr>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;" id="selDateShow">
                       报表日期
                    </th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">停车场</th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">停车次数</th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">15分钟内<br/>免费次数</th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">包月车<br/>停车次数</th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">平均停车时长<br/>（小时/次）</th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">周转率</th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">车位平均收益</th>
                    <th rowspan="3" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">停车应收金额</th>
                    <th colspan="19" style="border-bottom:1px solid #ddd !important;text-align:center;">停车场实收金额</th>
                    <th colspan="9" style="border-bottom:1px solid #ddd !important;text-align:center;">月卡实收金额</th>
                    <th colspan="9" style="border-bottom:1px solid #ddd !important;text-align:center;">停车未收费金额</th>
                </tr>
                <tr>
                    <th rowspan="2" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">合计</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">现金</th>
                    <th colspan="5" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">支付宝</th>
                    <th colspan="5" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">微信</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">钱包</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">市民卡</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">其他</th>
                    
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">现金</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">支付宝</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">微信</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">钱包</th>
                    <th rowspan="2" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">合计</th>
                    
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">市民卡优惠</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">充电抵扣</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">优惠券优惠</th>
                    <th colspan="2" style="vertical-align:middle;text-align:center;border-bottom:1px solid #ddd !important;">异常放行金额</th>
                    <th rowspan="2" style="border-bottom:1px solid #ddd !important;vertical-align:middle;text-align:center;">合计</th>
                </tr>
                <tr class="thirdTr">
                  <th style="vertical-align:middle;text-align:center;">线下订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线上订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线下订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">合计</th>
                  <th style="vertical-align:middle;text-align:center;">线上订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线下订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">合计</th>
                  <th style="vertical-align:middle;text-align:center;">线上订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线下订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线下订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  
                  <th style="vertical-align:middle;text-align:center;">线下订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线上订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线上订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">线上订单</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  
                  <th style="vertical-align:middle;text-align:center;">优惠次数</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">优惠次数</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">优惠次数</th>
                  <th style="vertical-align:middle;text-align:center;">金额</th>
                  <th style="vertical-align:middle;text-align:center;">放行次数</th>
                  <th style="vertical-align:middle;text-align:center;border-right:1px solid #ddd !important;">金额</th>
                </tr>
              </thead>
                <tbody></tbody>
            </table>
            <div class="row" style="padding:0 15px;height: 180px;margin-top:20px;">
              <div class="col-md-2 totalFee">
                  <span>{{formData.totalMoney|currency:'￥':1}}</span>
                  <p>平台收费总额</p>
              </div>
              <div class="col-md-2 totalFee">
                  <span>{{formData.parkingMoney|currency:'￥':1}}</span>
                  <p>停车收费总额</p>
              </div>
              <div class="col-md-2 totalFee">
                  <span>{{formData.monthcardMoney|currency:'￥':1}}</span>
                  <p>月卡购买总额</p>
              </div>
              <div class="col-md-2 totalFee">
                  <span>{{formData.rechargeMoney}}</span>
                  <p>用户充值总额</p>
              </div>
              <div class="col-md-4 totalFee row operateTotal">
                  <div class="col-md-5 operateTotalImg">
                    <span><strong>{{formData.operationTotalMoney|currency:'￥':1}}</strong></span>
                    <p>运营总额</p>
                  </div>
                  <div class="col-md-7 lineTotal">
                      <p style="margin-bottom:20px;">线上收费总额：<span><strong>{{formData.operationOnlineMoney|currency:'￥':1}}</strong></span></p>
                      <p>线下收费总额：<span><strong>{{formData.operationOfflineMoney|currency:'￥':1}}</strong></span></p>
                  </div>
              </div>
          </div>
          <div class="row totalBottom">
            <div class="col-md-2 operateTotalImg" style="background-size:60%;text-align: center;">
              <span><strong>{{formData.operatoinTotalOrderNumber}}</strong></span>
              <p>运营总订单数</p>
            </div>
            <div class="col-md-2 orderNum">
                <p style="margin-bottom:20px;">微信订单数：<span><strong>{{formData.wxTotalOrderNumber}}</strong></span></p>
                <p>微信总额：<span><strong>{{formData.wxTotalMoney|currency:'￥':1}}</strong></span></p>
            </div>
            <div class="col-md-2 orderNum">
                <p style="margin-bottom:20px;">现金订单数：<span><strong>{{formData.cashTotalOrderNumber}}</strong></span></p>
                <p>现金总额：<span><strong>{{formData.cashTotalMoney|currency:'￥':1}}</strong></span></p>
            </div>
            <div class="col-md-2 orderNum">
                <p style="margin-bottom:20px;">支付宝订单数：<span><strong>{{formData.alipayTotalOrderNumber}}</strong></span></p>
                <p>支付宝总额：<span><strong>{{formData.alipayTotalMoney|currency:'￥':1}}</strong></span></p>
            </div>
            <div class="col-md-2 orderNum">
                <p style="margin-bottom:20px;">市民卡订单数：<span><strong>{{formData.citizenCardTotalOrderNumber}}</strong></span></p>
                <p>市民卡总额：<span><strong>{{formData.citizenCardTotalMoney|currency:'￥':1}}</strong></span></p>
            </div>
            <div class="col-md-2 orderNum">
                <p style="margin-bottom:20px;">钱包订单数：<span><strong>{{formData.walletTotalOrderNumber}}</strong></span></p>
                <p>钱包总额：<span><strong>{{formData.walletTotalMoney|currency:'￥':1}}</strong></span></p>
            </div>
          </div>
        </div>
    </div>
</div>
<style>
  .dataTables_scrollHead {
    border-bottom: 0 !important;
  }
  .table>tbody>tr>td{  
      text-align:center;  
  } 

  .form-group .sel-date{
      width: 100px;
      height: 35px;
      border: 1px solid #999;
      display: flex;
      display: -webkit-flex;
      flex-wrap: nowrap;
  }
  .form-group .sel-date span{
      width: 50%;
      height: 100%;
      display: flex;
      display: -webkit-flex;
      justify-content: center;
      align-items: center;
  }

  .form-group .sel-date .active{
      background: #404b40;
      color: #fff;
  }

  .ui-datepicker-calendar {  
      display: none;
  }  

  .thirdTr th{
    border-bottom:1px solid #ddd !important;
  }

  .DTFC_LeftBodyLiner {
      overflow-x: hidden;
    }

  .totalNum {
    margin-right: 15px;
    font-size: 14px;
  }
  .totalNum span {
    font-size: 18px;
    color:red;
  }

  .totalFee {
    border: 1px solid #ddd;
    border-radius: 6px !important;
    height: 180px;
    padding:50px;
    text-align: center;
    /* margin-right: 20px; */
  }

  .totalFee>span {
    color: #000;
    font-size: 20px;
    font-weight: 550;
  }
  .totalFee>p {
    font-size: 15px;
    margin-top:10px;
  }
  .operateTotal {
    padding:0;
    margin-right: 0;
    margin-left:0;
  }
  .operateTotalImg {
    height: 180px;
    background-image: url(img/totalImg.png);
    background-size:60%;
    background-repeat:no-repeat;
    background-position:center;
    padding-top:70px;
    font-size: 14px;
    font-weight: 500;
    padding-left:0;
    padding-right:0;
  }
  .lineTotal {
    text-align: left;
    height: 180px;
    padding-top:60px;
    padding-left:0;
    padding-right:0;
  }
  .totalBottom {
    height:180px;
    border: 1px solid #ddd;
    border-radius: 6px !important;
    margin: 10px 0;
  }
  .orderNum {
    height: 180px;
    padding-top:70px;
    font-size: 15px;
  }

  .multiLot>div {
    padding:0 !important;
  }
  .bootstrap-select.btn-group .btn .filter-option {
    position: static !important;
  }

</style>

